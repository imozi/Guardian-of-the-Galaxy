version: "3.9"

services:
    project:
        container_name: project
        image: pdoject_dev
        build:
            context: .
            dockerfile: Dockerfile.dev.client
        # restart: always
        ports:
            - "${CLIENT_PORT}:3000"
            # - "${SERVER_PORT}:3001"
            - "${SERVER_PORT}:24678"
        volumes:
          - .:/app
          # - /app/node_modules/ts-node 
          - /app/node_modules/esbuild    
          - /app/node_modules/esbuild-linux-64
        # depends_on:
        #   - postgres
        command: yarn dev:client

    # postgres:
    #   image: postgres:14-alpine     
    #   ports:
    #     - "${POSTGRES_PORT}:${POSTGRES_PORT}"
    #   environment:
    #     POSTGRES_PASSWORD: ${POSTGRES_PASSWORD}
    #     POSTGRES_USER: ${POSTGRES_USER}
    #     POSTGRES_DB: ${POSTGRES_DB}
    #   volumes:
    #     - ./tmp/pgdata:/var/lib/postgresql/data

